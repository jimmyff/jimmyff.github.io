<!doctype html><html prefix="og: https://ogp.me/ns#" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="Fun loving creative (he/him) üè≥Ô∏è‚Äçüåà" name=description><meta content="jimmy, forrester-fellowes, jimmyff, jimmy3ds, yorkshire, leeds, developer" name=keywords><title>
  Beyond package management: How Nix refactored my digital life // jimmyff // a creative & geeky personal blog</title><meta content=jimmyff property=og:site_name><meta content="jimmyff | Beyond package management: How Nix refactored my digital life" property=og:title><meta content=website property=og:type><meta content=https://www.jimmyff.co.uk/blog/beyond-package-management-how-nix-refactored-my-digital-life/ property=og:url><meta content="Fun loving creative (he/him) üè≥Ô∏è‚Äçüåà" property=og:description><meta content=https://www.jimmyff.co.uk/processed_images/open_graph_image.81da41776f4e3413.webp property=og:image><meta content=1200 property=og:image:width><meta content=630 property=og:image:height><meta content=https://www.jimmyff.co.uk/processed_images/open_graph_image.81da41776f4e3413.webp name=twitter:image><meta content=summary_large_image name=twitter:card><meta content="Beyond package management: How Nix refactored my digital life" name=twitter:title><meta content="Fun loving creative (he/him) üè≥Ô∏è‚Äçüåà" name=twitter:description><link href=https://www.jimmyff.co.uk/atom.xml rel=alternate title=jimmyff type=application/atom+xml><link href=/favicon.ico rel=icon><style>html{max-width:70ch;margin:auto;padding:1.5rem 1em 3em;font-family:monospace;font-size:1rem;line-height:1.5}img{max-width:100%}img:not([src$=\.svg]),article>div,blockquote,pre{border-radius:.3rem}img[src$=\#pixelate]{image-rendering:pixelated}h1,h2,h3,h4,h5,h6{font-size:inherit;margin:2rem 0 1em}h1:before{content:"# "}h2:before{content:"## "}h3:before{content:"### "}p{text-align:justify}p,ul,ol,.g,article>footer,article>header{margin:0 0 2em}pre,blockquote{margin:0 0 1.5rem;padding:1.5rem}pre{overflow-x:auto}pre code{background:0!important}blockquote>:last-child{margin-bottom:0}article>img,article>p>img,article>div{width:100%;margin-bottom:1.5rem;display:block}.yt{aspect-ratio:16/9;width:100%;overflow:hidden}.yt iframe{border:0;width:100%;height:100%}.s{font-size:.85rem}.theme{width:1.5rem;height:1.5rem;display:inline-block}.theme img,.theme svg{width:100%;height:100%}html.light .theme img:first-child,html.light .theme svg:first-child,html.dark .theme img:last-child,html.dark .theme svg:last-child{display:none}header>div{margin-bottom:1.5rem}footer{margin-top:1.5rem}body>footer{flex-wrap:wrap;justify-content:space-between;gap:.5rem;display:flex}body>footer img,body>footer svg{vertical-align:middle;width:1em;height:1em}.tags{padding:.5rem 0 0}.tags li{display:inline}.tags li+li:before{content:" ¬∑ "}nav{gap:.5rem;margin:1.5rem 0;display:flex}nav a{flex-direction:column;flex:1;align-items:center;font-weight:700;display:flex;overflow:hidden}nav img,nav svg{width:2rem;height:2rem;margin-bottom:.25rem}nav a .s{text-overflow:ellipsis;white-space:nowrap;max-width:100%;overflow:hidden}.g{grid-template-columns:repeat(auto-fill,minmax(7rem,1fr));gap:.5rem;display:grid}.g a{aspect-ratio:1;justify-content:center;align-items:center;display:flex}.g img{object-fit:contain;max-width:100%;max-height:100%}.p{padding:0;list-style:none}.p ul{margin:0}.p>li{gap:1rem;margin-bottom:1rem;display:flex}.p time{flex-direction:column;align-items:center;min-width:3rem;margin:.25rem 0;display:flex}.p time span:first-child{font-size:1.5em;line-height:1}.lb{z-index:999;cursor:pointer;background:#000d;justify-content:center;align-items:center;display:flex;position:fixed;inset:0}.lb img{max-width:95vw;max-height:95vh}@media (width<=30em){header .desc{display:none}nav{flex-wrap:wrap;row-gap:1.5rem}nav a{flex-basis:20%}}</style><style>html.light{--tc:#f5e6b3;color:#000;background:oklch(96.02% .0811 96.96)}html.light a{color:oklch(53% .2448 257.69)}html.light a:visited{color:oklch(48% .24 290.93)}html.light a.active,html.light a:active,html.light a:hover{color:oklch(53% .2687 324.53)}html.light p,html.light ul,html.light ol,html.light .desc{color:oklch(40% .1082 58.76)}html.light blockquote,html.light pre,html.light code,html.light article>img,html.light article>p>img,html.light .g img{background:oklch(94% .1 93.24)}html.light code{color:#000}html.dark{--tc:#000;color:#fff;background:#000}html.dark a{color:oklch(87% .24 165.59)}html.dark a:visited{color:oklch(79% .13 297.29)}html.dark a.active,html.dark a:active,html.dark a:hover{color:oklch(76% .25 344.92)}html.dark p,html.dark ul,html.dark ol,html.dark .desc{color:oklch(92% .15 94.86)}html.dark img[src$=\.svg],html.dark nav svg,html.dark .theme svg,html.dark footer svg{filter:invert()}html.dark blockquote,html.dark pre,html.dark code,html.dark article>img,html.dark article>p>img,html.dark .g img{background:#222}html.dark code{color:#fff}a.active,a:active,a:hover{text-decoration-style:wavy}.tags a{text-decoration-style:dotted}hr{clear:both;border:0;border-top:1px dashed;margin-bottom:1.5rem}</style><meta id=tc name=theme-color><script>(function(){var m=matchMedia('(prefers-color-scheme:dark)'),t=localStorage.theme||(m.matches?'dark':'light'),h=document.documentElement,c=document.getElementById('tc');h.className=t;function u(){c.content=getComputedStyle(h).getPropertyValue('--tc')}u();window.T=function(){t=t==='dark'?'light':'dark';localStorage.theme=t;h.className=t;u()}})()</script><body><svg style=display:none xmlns=http://www.w3.org/2000/svg><symbol viewbox="0 0 32 32" id=home><path d=M16.6123,2.2138a1.01,1.01,0,0,0-1.2427,0L1,13.4194l1.2427,1.5717L4,13.6209V26a2.0041,2.0041,0,0,0,2,2H26a2.0037,2.0037,0,0,0,2-2V13.63L29.7573,15,31,13.4282ZM18,26H14V18h4Zm2,0V18a2.0023,2.0023,0,0,0-2-2H14a2.002,2.002,0,0,0-2,2v8H6V12.0615l10-7.79,10,7.8005V26Z /></symbol><symbol viewbox="0 0 32 32" id=chat><path d=M17.74,30,16,29l4-7h6a2,2,0,0,0,2-2V8a2,2,0,0,0-2-2H6A2,2,0,0,0,4,8V20a2,2,0,0,0,2,2h9v2H6a4,4,0,0,1-4-4V8A4,4,0,0,1,6,4H26a4,4,0,0,1,4,4V20a4,4,0,0,1-4,4H21.16Z /><rect height=2 width=16 x=8 y=10 /><rect height=2 width=10 x=8 y=16 /></symbol><symbol viewbox="0 0 32 32" id=color-palette><circle cx=10 cy=12 r=2 /><circle cx=16 cy=9 r=2 /><circle cx=22 cy=12 r=2 /><circle cx=23 cy=18 r=2 /><circle cx=19 cy=23 r=2 /><path d=M16.54,2A14,14,0,0,0,2,16a4.82,4.82,0,0,0,6.09,4.65l1.12-.31A3,3,0,0,1,13,23.24V27a3,3,0,0,0,3,3A14,14,0,0,0,30,15.46,14.05,14.05,0,0,0,16.54,2Zm8.11,22.31A11.93,11.93,0,0,1,16,28a1,1,0,0,1-1-1V23.24a5,5,0,0,0-5-5,5.07,5.07,0,0,0-1.33.18l-1.12.31A2.82,2.82,0,0,1,4,16,12,12,0,0,1,16.47,4,12.18,12.18,0,0,1,28,15.53,11.89,11.89,0,0,1,24.65,24.32Z /></symbol><symbol viewbox="0 0 32 32" id=idea><rect height=2 width=10 x=11 y=24 /><rect height=2 width=6 x=13 y=28 /><path d=M16,2A10,10,0,0,0,6,12a9.19,9.19,0,0,0,3.46,7.62c1,.93,1.54,1.46,1.54,2.38h2c0-1.84-1.11-2.87-2.19-3.86A7.2,7.2,0,0,1,8,12a8,8,0,0,1,16,0,7.2,7.2,0,0,1-2.82,6.14c-1.07,1-2.18,2-2.18,3.86h2c0-.92.53-1.45,1.54-2.39A9.18,9.18,0,0,0,26,12,10,10,0,0,0,16,2Z /></symbol><symbol viewbox="0 0 32 32" id=gamification><path d=M23,23h-.1315l.9635-1.4453A1.0008,1.0008,0,0,0,24,21V12.0005c0-9.8858-7.92-10-8-10A1,1,0,0,0,15,3l-.0005,2H14a.9956.9956,0,0,0-.581.1865l-7,5a1,1,0,0,0-.3676,1.13l1,3a.9976.9976,0,0,0,1.09.6733l4.87-.6958L9.1519,20.47a1,1,0,0,0,.0161,1.085L10.1315,23H10a3.0033,3.0033,0,0,0-3,3v4H26V26A3.0033,3.0033,0,0,0,23,23Zm-7.1519-9.47a1,1,0,0,0-.99-1.52l-6.1738.8819-.5025-1.5078L14.32,7.0005H15.999a1,1,0,0,0,1-.9995L17,4.1289C18.5013,4.4636,21.2167,5.67,21.86,10H19v2h3v2H19v2h3v2H19v2h3v.6973L20.4648,23h-7.93L11.19,20.9824ZM24,28H9V26a1.0009,1.0009,0,0,1,1-1H23a1.0006,1.0006,0,0,1,1,1Z /></symbol><symbol viewbox="0 0 32 32" id=cube><path d=M28.5039,8.1362l-12-7a1,1,0,0,0-1.0078,0l-12,7A1,1,0,0,0,3,9V23a1,1,0,0,0,.4961.8638l12,7a1,1,0,0,0,1.0078,0l12-7A1,1,0,0,0,29,23V9A1,1,0,0,0,28.5039,8.1362ZM16,3.1577,26.0156,9,16,14.8423,5.9844,9ZM5,10.7412l10,5.833V28.2588L5,22.4258ZM17,28.2588V16.5742l10-5.833V22.4258Z /></symbol><symbol viewbox="0 0 32 32" id=wikis><path d=M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2ZM28,15H22A24.26,24.26,0,0,0,19.21,4.45,12,12,0,0,1,28,15ZM16,28a5,5,0,0,1-.67,0A21.85,21.85,0,0,1,12,17H20a21.85,21.85,0,0,1-3.3,11A5,5,0,0,1,16,28ZM12,15a21.85,21.85,0,0,1,3.3-11,6,6,0,0,1,1.34,0A21.85,21.85,0,0,1,20,15Zm.76-10.55A24.26,24.26,0,0,0,10,15h-6A12,12,0,0,1,12.79,4.45ZM4.05,17h6a24.26,24.26,0,0,0,2.75,10.55A12,12,0,0,1,4.05,17ZM19.21,27.55A24.26,24.26,0,0,0,22,17h6A12,12,0,0,1,19.21,27.55Z /></symbol><symbol viewbox="0 0 32 32" id=search><path d=M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z /></symbol><symbol viewbox="0 0 32 32" id=light><rect height=5 width=2 x=15 y=2 /><rect transform="translate(1.5191 19.3744) rotate(-45)" height=1.9998 width=4.958 x=21.6675 y=6.8536 /><rect height=2 width=5 x=25 y=15 /><rect transform="translate(-10.0018 24.1465) rotate(-45)" height=4.958 width=1.9998 x=23.1466 y=21.6675 /><rect height=5 width=2 x=15 y=25 /><rect transform="translate(-14.7739 12.6256) rotate(-45)" height=1.9998 width=4.958 x=5.3745 y=23.1466 /><rect height=2 width=5 x=2 y=15 /><rect transform="translate(-3.253 7.8535) rotate(-45)" height=4.958 width=1.9998 x=6.8536 y=5.3745 /><path d=M16,12a4,4,0,1,1-4,4,4.0045,4.0045,0,0,1,4-4m0-2a6,6,0,1,0,6,6,6,6,0,0,0-6-6Z /></symbol><symbol viewbox="0 0 32 32" id=asleep><path d=M13.5025,5.4136A15.0755,15.0755,0,0,0,25.096,23.6082a11.1134,11.1134,0,0,1-7.9749,3.3893c-.1385,0-.2782.0051-.4178,0A11.0944,11.0944,0,0,1,13.5025,5.4136M14.98,3a1.0024,1.0024,0,0,0-.1746.0156A13.0959,13.0959,0,0,0,16.63,28.9973c.1641.006.3282,0,.4909,0a13.0724,13.0724,0,0,0,10.702-5.5556,1.0094,1.0094,0,0,0-.7833-1.5644A13.08,13.08,0,0,1,15.8892,4.38,1.0149,1.0149,0,0,0,14.98,3Z /></symbol><symbol viewbox="0 0 32 32" id=rss><path d="M8,18c-3.3,0-6,2.7-6,6s2.7,6,6,6s6-2.7,6-6C14,20.7,11.3,18,8,18z M8,28c-2.2,0-4-1.8-4-4s1.8-4,4-4s4,1.8,4,4C12,26.2,10.2,28,8,28z"/><path d=M30,24h-2C28,13,19,4,8,4V2C20.1,2,30,11.9,30,24z /><path d=M22,24h-2c0-6.6-5.4-12-12-12v-2C15.7,10,22,16.3,22,24z /></symbol></svg><header><div class=s style=justify-content:space-between;align-items:center;display:flex><span><strong>jimmyff</strong><span class=desc> ¬∑ Fun loving creative (he/him) üè≥Ô∏è‚Äçüåà</span></span><a aria-label="Toggle theme" onclick="T();return false" title="Toggle theme" class=theme href=#> <svg><use href=#light /></svg> <svg><use href=#asleep /></svg></a></div><hr><nav><a aria-label=About href=https://www.jimmyff.co.uk/> <svg><use href=#home /></svg><span class=s>About</span></a><a aria-label=Blog class=active href=https://www.jimmyff.co.uk/blog/> <svg><use href=#chat /></svg><span class=s>Blog</span></a><a aria-label=Gallery href=https://www.jimmyff.co.uk/gallery/> <svg><use href=#color-palette /></svg><span class=s>Gallery</span></a><a aria-label=Projects href=https://www.jimmyff.co.uk/projects/> <svg><use href=#idea /></svg><span class=s>Projects</span></a><a aria-label=Games href=https://www.jimmyff.co.uk/games/> <svg><use href=#gamification /></svg><span class=s>Games</span></a><a aria-label=Apps href=https://www.jimmyff.co.uk/apps/> <svg><use href=#cube /></svg><span class=s>Apps</span></a><a aria-label=Guestbook href=https://www.jimmyff.co.uk/guestbook/> <svg><use href=#wikis /></svg><span class=s>Guestbook</span></a><a aria-label=Search href=https://www.jimmyff.co.uk/search/> <svg><use href=#search /></svg><span class=s>Search</span></a></nav></header><hr><main><article><header><h1>Beyond package management: How Nix refactored my digital life</h1><time class=s datetime=2025-09-08>08 Sep 2025</time></header><p><em>(You can find my Nix config <a href=https://github.com/jimmyff/nixfiles/>over on Github</a>)</em><p>I'm a disorganised person. My workflow is to bounce around a codebase for days/weeks at a time and when I come up for air I'll usually have left a slew of configs, tools, scripts, repos scattered around my computer like the socks near the bed, or the pile of paperwork on my desk. After a while I reach a point where it all becomes unmanageable. I'll wade on (unproductively) until I can't go any further, then reset my laptop and spend a week reconfiguring the system, tooling, and getting projects running again. So when I discovered Nix (about 12 months back) it sounded <em>too</em> good to be true: a declarative package manager with reproducible builds and pinned package versions. Even better, NixOS applies these principles to your entire operating system! I was incredibly excited by it but then got horrendously bogged down in my first system config. I shelved it as something to come back to when I had more time. Several months later I gave it another try and spent the time needed to understand how to properly configure it. Result? Well let's just say I'm never going back -boy oh boy, Nix is <em>wild</em>! In this post, I'll walk you through my journey: reviving an old Pixelbook with <a href=https://nixos.org/>NixOS</a>, wrangling my MacBook with <a href=https://github.com/nix-darwin/nix-darwin>nix-darwin</a>, and super-charging Nix with AI to solve a problem I thought was unsolvable.<h3 id=nixos-on-an-old-pixelbook>NixOS on an old Pixelbook</h3><p>I gave Nix a second chance as I had a slow old Pixelbook Go (2017 Chromebook that I'd picked-up cheap on ebay). It frustrated me how sluggish it was despite being reasonably well-specced. I disabled the BIOS write protection (using the excellent guides at <a href=https://docs.mrchromebox.tech/>MrChromebox</a>) and replaced it with Coreboot, an open-source BIOS that allowed me to install NixOS (<em>the process was more involved than expected, requiring me to physically disconnect the battery to disable write protection!</em>). Getting a simple NixOS system running was simple and I was instantly blown away by the speed! The Pixelbook (<em>now a Nixelbook</em>) had <em>never</em> felt so snappy -it was a joy to use. I've not used Linux on the desktop for almost 15 years (I started on Linux in the early 2000s with Debian Woody and remember the hype around Ubuntu Warty Warthog!) so I had great fun playing around with all the cool new stuff -especially the display managers! Everything worked remarkably well except the parts specific to the Pixelbook: The AI assistant button, the function key row and the speakers. <em>I've almost got everything working now -more on this later!</em></p><img alt="Left: Disconnecting the battery of my Pixelbook. Right: My Nixelbook is born!" srcset="https://www.jimmyff.co.uk/processed_images/nixelbook.9510ad192953210f.webp 512w, https://www.jimmyff.co.uk/processed_images/nixelbook.a311ce1aaec861c1.webp 1024w" title="Left: Disconnecting the battery of my Pixelbook. Right: My Nixelbook is born!" src=https://www.jimmyff.co.uk/processed_images/nixelbook.a311ce1aaec861c1.webp><h3 id=running-nix-on-my-macbook>Running Nix on my macbook</h3><p>The Nixelbook was a triumph, but could I apply this same magic to my daily driver, a chaotic M1 MacBook Pro? My system is a mess; way too much stuff, brew packages, countless dev projects, tooling and SDKs installed globally. I'm also never quite sure about the correct way to fully purge something on macOS (especially if it's been installed via an installer). Enter Nix: I can now enable those configurations I setup for my NixOS laptop on a per-module basis for my macbook. The macOS version of Nix configuration is handled by <a href=https://github.com/nix-darwin/nix-darwin>nix-darwin</a>, which has some differences and gotchas due to macOS's BSD Unix foundation versus Linux. Also I'm running an Apple silicon macbook pro- so the packages I use need to have aarch64-darwin builds (which most do). With a little bit of patience you can configure your various hosts and share your nix modules across systems with different architectures. This for me is huge: I can have a dependable, reproducible configuration, I am in control of every aspect, and every configuration is deliberate, considered and under version control.<h3 id=declarative-dev-environments>Declarative Dev Environments</h3><p>I've previously used Ansible for dev-ops configuration, it's powerful but also painful. I found that it would be overkill for my smaller projects, and it certainly wouldn't be good for configuring desktop tooling etc. The NixOS package repository with pinned versions is the HUGE differentiator for me. I'm not at the stage of configuring cloud containers with NixOS (that will be a challenge for another day), but for local development environments this is massive. For this, I use <a href=https://nixos.wiki/wiki/Flakes>Nix Flakes</a>. Flakes are the modern way to package Nix expressions, locking all dependencies for true reproducibility. I configure my projects as Nix Flakes that checkout the code, provide utility scripts and configure the environment by installing SDKs (pinned to specific version) and any tooling required. With direnv, the entire environment appears when entering a project directory and disappears when leaving: SDKs, running services, tooling, even IDEs if desired. Doing something like this, supporting different system architectures with Ansible would be a nightmare (and far beyond my ability!). As I can now reproduce my configurations I'm leaning heavily in to nushell as my default shell environment, and I've created a couple of nuscripts (<a href=https://github.com/jimmyff/nixfiles/tree/main/scripts/git-manager>gm.nu</a> and <a href=https://github.com/jimmyff/nixfiles/tree/main/scripts/dartboard>dartboard.nu</a>) to manage my bigger projects, handling everything from batch-updating and running tests across various projects to syncing and managing git submodules in mono-repos. My flakes (<a href=https://github.com/jimmyff/nixfiles/blob/main/projects/rocket-kit/flake.nix>example</a>) can enable these global scripts, and I have them configured to give me a project overview each time the flake is loaded. I'm willing to spend longer creating the perfect dev environment as now it's reproducible, my utility tools and scripts can be shared among projects and I'm seeing qualitative improvements to my developer experience because of it.<h3 id=nix-ai-exploding-head>Nix + AI = ü§Ø</h3><p>My biggest challenge was the Nixelbook's audio. After replacing the firmware, I discovered the audio drivers were unavailable -a dead end that others online had hit with no success. I'd failed miserably trying to fix it myself. As a last resort, I decided to see if an AI could help me crack it. I tasked Claude Code with the problem and the results were astonishing -I watched as the AI assistant (under close supervision) methodically tried various approaches while monitoring system logs and working through errors I probably would never have discovered. Eventually it(/we?) managed to locate the final piece of the puzzle: the speakers topology file (that someone had recovered from the ChromeOS recovery image) which with some impressive nix configuration literally brought music to my ears <em>(if you have a Pixelbook Go/Chromebook Atlas, <a href=https://github.com/jimmyff/nixfiles/tree/main/nix_modules/hardware/pixelbook-go>help yourself to the solution here</a>!).</em><h3 id=what-s-next-final-thoughts>What's next & final thoughts</h3><p>Earlier this year <a href=https://www.androidauthority.com/android-linux-terminal-app-available-3532999/>Google released 'Linux Terminal' which provides a virtualized Linux environment on Android</a>, of course <a href=https://github.com/nix-community/nixos-avf>there is already Nix support</a>. I'm going to configure my Pixel phone as a host in my nix config which will give me a fully-fledged, perfectly configured Linux OS in my pocket- everything setup just the way I like it. I could also play with using Nix as a tool for configuring cloud infrastructure -something I would like to explore further down the road.<p>My closing comment is that Nix has blown me away. It's refactored my chaotic digital life in to something well structured, thoughtfully considered, reproducible and dependable, and I'm reaping the rewards of all of this already. I urge everyone to take a look at Nix and give it the time it deserves; you can thank me later (<em>over in my <a href=/guestbook/>guestbook</a>!</em>).<hr><p><em><a href=https://github.com/jimmyff/nixfiles/>github.com/jimmyff/nixfiles/</a></em><footer class=s>Tags: <a href=https://www.jimmyff.co.uk/tags/coding>coding</a>, <a href=https://www.jimmyff.co.uk/tags/nix>nix</a></footer></article></main><hr><footer class=s><span>¬© jimmyff 2025</span><span> <svg><use href=#rss /></svg> Feeds: <a href=https://www.jimmyff.co.uk/atom.xml>Atom</a> ¬∑ <a href=https://www.jimmyff.co.uk/rss.xml>RSS</a></span></footer><script data-domains=www.jimmyff.co.uk,jimmyff.co.uk data-website-id=3b272798-439a-429c-b9e8-0e9090275205 defer src=https://cloud.umami.is/script.js></script><script>document.querySelectorAll('article img[srcset]').forEach(i=>{if(i.closest('a'))return;i.style.cursor='pointer';i.onclick=()=>{let d=document.createElement('div'),s=i.srcset.split(',').pop().trim().split(' ')[0];d.className='lb';d.innerHTML='<img src="'+s+'">';document.body.style.overflow='hidden';d.onclick=()=>{d.remove();document.body.style.overflow=''};document.body.appendChild(d)}})</script>